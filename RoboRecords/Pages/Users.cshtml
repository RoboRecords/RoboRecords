@page
@model RoboRecords.Pages.Users

<!--
 Users.cshtml: FrontEnd for the users website's page
 Copyright (C) 2021, Lemin <Leminn> and Refrag <R3FR4G>
 
 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.
 See the 'LICENSE' file for more details.
-->

@{
    ViewData["Title"] = "Users";
}

<div class="text-center">
    <h1 class="">Users</h1>
</div>
<style>
    body {
      background: linear-gradient( rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.75) ), url('@FileManager.AssetsDirectoryName/images/vanillabg.png');
            background-size: cover;
            background-repeat: no-repeat;
    }
    
    
     screen and (max-width: 800px) {
      h1 {
             font-size: 6vw !important;
         }
         
         h3 {
             font-size: 4vw;
         }
    
     }

   
    
</style>

<div class="container">
    <form enctype="multipart/form-data" method="post">
        <br/>
        <br/>
        <div>
            @if (Model.IsLoggedIn)
            {
                <h2>Welcome, @Model.CurrentUser.UserNameNoDiscrim!</h2>
                @if (Model.isModerator)
                {
                    <h3>You are a moderator!</h3>}
                @using (Html.BeginForm(FormMethod.Post))
                {
                    <button asp-page-handler="ApiKey">Generate new Api Key</button>
                }
            }
            else
            {
                <h2>You're not signed in yet</h2>
            }
        </div>
        
        <br/>
        <br/>
        <br/>
        
        <dl>
            <h2>
                <label asp-for="FileUpload">Upload profile picture:</label>
            </h2>
            <dd>
                <!-- TODO: Accept more than just PNG files -->
                <input asp-for="FileUpload" type="file" accept="image/png"/>
                <span asp-validation-for="FileUpload"></span>
            </dd>
        </dl>
        <input asp-page-handler="Post" type="submit" value="Upload"/>

    </form>
</div>